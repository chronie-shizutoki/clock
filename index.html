<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="enhanced_clock_component"></title>
    <link rel="stylesheet" href="enhanced-clock.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Arial', sans-serif;
            background: #f0f0f0;
        }
        
        .demo-info {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px;
            border-radius: 10px;
            font-size: 12px;
            max-width: 300px;
            z-index: 10000;
        }
        
        .demo-info h4 {
            margin: 0 0 10px 0;
            color: #00ffff;
        }
        
        .demo-info ul {
            margin: 0;
            padding-left: 20px;
        }
        
        .demo-info li {
            margin-bottom: 5px;
        }
        
        .keyboard-shortcuts {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid rgba(255, 255, 255, 0.3);
        }

        .language-selector {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 10000;
            background: rgba(0, 0, 0, 0.8);
            padding: 10px;
            border-radius: 5px;
        }

        .language-selector select {
            padding: 5px;
            border-radius: 3px;
            border: 1px solid #ccc;
            background: #fff;
        }
    </style>
</head>
<body>
    <div class="language-selector">
        <select id="languageSelect">
            <option value="en-US">English</option>
            <option value="zh-CN">简体中文</option>
            <option value="ja-JP">日本語</option>
        </select>
    </div>

    <div class="demo-info">
        <h4 data-i18n="features_description"></h4>
        <ul>
            <li data-i18n="digital_analog_toggle"></li>
            <li data-i18n="multi_theme_support"></li>
            <li data-i18n="timezone_selection"></li>
            <li data-i18n="stopwatch_functionality"></li>
            <li data-i18n="countdown_functionality"></li>
            <li data-i18n="alarm_functionality"></li>
            <li data-i18n="fullscreen_mode_feature"></li>
            <li data-i18n="settings_auto_save"></li>
        </ul>
        <div class="keyboard-shortcuts">
            <strong data-i18n="keyboard_shortcuts"></strong><br>
            <span data-i18n="ctrl_f_fullscreen"></span><br>
            <span data-i18n="ctrl_m_mode_toggle"></span><br>
            <span data-i18n="ctrl_t_theme_toggle"></span>
        </div>
    </div>

    <script src="i18n.js"></script>
    <script src="enhanced-clock.js"></script>
    <script>
        // Language selector integration (if needed)
        document.addEventListener("DOMContentLoaded", function() {
            // Initialize i18n system
            // window.i18n is already initialized by i18n.js
            
            const languageSelect = document.getElementById("languageSelect");
            languageSelect.value = i18n.currentLocale; // Set initial value
            languageSelect.addEventListener("change", function() {
                i18n.setLocale(this.value);
            });

            // Add particle effects
            function createParticles() {
                const clockArea = document.querySelector(".clock-display-area");
                if (!clockArea) return;
                
                const particlesContainer = document.createElement("div");
                particlesContainer.className = "background-particles";
                particlesContainer.style.cssText = `
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    pointer-events: none;
                    z-index: 1;
                `;
                
                for (let i = 0; i < 50; i++) {
                    const particle = document.createElement("div");
                    particle.className = "particle";
                    particle.style.cssText = `
                        position: absolute;
                        width: ${Math.random() * 4 + 2}px;
                        height: ${Math.random() * 4 + 2}px;
                        background: rgba(255, 255, 255, ${Math.random() * 0.5 + 0.2});
                        border-radius: 50%;
                        left: ${Math.random() * 100}%;
                        top: ${Math.random() * 100}%;
                        animation: float ${Math.random() * 10 + 10}s infinite linear;
                        --tx: ${(Math.random() - 0.5) * 200}px;
                        --ty: ${(Math.random() - 0.5) * 200}px;
                    `;
                    particlesContainer.appendChild(particle);
                }
                
                clockArea.appendChild(particlesContainer);
            }
            
            // Create particles after a short delay
            setTimeout(createParticles, 1000);
        });
        
        // Handle fullscreen change events
        document.addEventListener("fullscreenchange", function() {
            if (enhancedClock) {
                enhancedClock.isFullscreen = !!document.fullscreenElement;
                if (enhancedClock.isFullscreen) {
                    enhancedClock.container.classList.add("fullscreen");
                } else {
                    enhancedClock.container.classList.remove("fullscreen");
                }
            }
        });
        
        // Handle visibility change to pause/resume timers when tab is not visible
        document.addEventListener("visibilitychange", function() {
            if (enhancedClock) {
                if (document.hidden) {
                    // Tab is hidden, could pause non-essential animations
                    console.log("Tab hidden - timers continue running");
                } else {
                    // Tab is visible again
                    console.log("Tab visible - all features active");
                }
            }
        });
    </script>
</body>
</html>

